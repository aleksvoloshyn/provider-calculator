{"version":3,"sources":["js/main.js"],"names":["orgs","name","min","storageRate","transferRate","max","hdd","ssd","multi","single","free","barColors","grey","red","orange","purple","blue","storageInput","document","querySelector","transferInput","rateValue","transferValue","backblazeValue","bunnyValue","scalewayValue","vultrValue","backblazeBar","bunnyBar","scalewayBar","vultrBar","currency","querySelectorAll","barsWrapper","diagram","diskType","quantityType","storage","transfer","backblazeStorage","backblazeTransfer","bunnyStorage","bunnyTransfer","scalewayStorage","scalewayTransfer","vultrStorage","vultrTransfer","colorSwither","style","width","innerHTML","backgroundColor","blackblazer","slice","bunny","scaleway","vultr","minimalPrice","Math","setBarsVisibility","element","action","forEach","el","classList","add","remove","diskHandler","type","orgName","event","target","value","map","item","textContent","rateTypeHandler","filter","org","addEventListener","e","Number","toFixed","console","log"],"mappings":"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","file":"main.b3cf5f62.js","sourceRoot":"..\\src","sourcesContent":["const orgs = [\r\n  { name: 'backblaze', min: 7, storageRate: 0.005, transferRate: 0.01 },\r\n  {\r\n    name: 'bunny',\r\n    max: 10,\r\n    storageRate: { hdd: 0.01, ssd: 0.02 },\r\n    transferRate: 0.01,\r\n  },\r\n  {\r\n    name: 'scaleway',\r\n    storageRate: { multi: 0.06, single: 0.03 },\r\n    transferRate: 0.02,\r\n    free: 75,\r\n  },\r\n  {\r\n    name: 'vultr',\r\n    min: 5,\r\n    storageRate: 0.01,\r\n    transferRate: 0.01,\r\n  },\r\n]\r\n\r\nconst barColors = {\r\n  grey: '#8C92AC',\r\n  red: '#ff3333',\r\n  orange: '#fc7f29',\r\n  purple: '#c06a90',\r\n  blue: '#1ac6ff',\r\n}\r\n\r\nconst storageInput = document.querySelector(\"input[name='storage']\")\r\nconst transferInput = document.querySelector(\"input[name='transfer']\")\r\n\r\nconst rateValue = document.querySelector('.rate-value')\r\nconst transferValue = document.querySelector('.transfer-value')\r\n\r\n// total values:\r\nconst backblazeValue = document.querySelector('.backblaze-value')\r\nconst bunnyValue = document.querySelector('.bunny-value')\r\nconst scalewayValue = document.querySelector('.scaleway-value')\r\nconst vultrValue = document.querySelector('.vultr-value')\r\n// inputs for bunny.net:\r\nconst hdd = document.querySelector(\"input[value='hdd']\")\r\nconst ssd = document.querySelector(\"input[value='ssd']\")\r\n// inputs for scaleway.net:\r\nconst multi = document.querySelector(\"input[value='multi']\")\r\nconst single = document.querySelector(\"input[value='single']\")\r\n// diagram bars:\r\nconst backblazeBar = document.querySelector('.diagram-bars-backblaze')\r\nconst bunnyBar = document.querySelector('.diagram-bars-bunny')\r\nconst scalewayBar = document.querySelector('.diagram-bars-scaleway')\r\nconst vultrBar = document.querySelector('.diagram-bars-vultr')\r\nconst currency = document.querySelectorAll('.currency')\r\nconst barsWrapper = document.querySelectorAll('.diagram-bars-wrapper')\r\nconst diagram = document.querySelectorAll('.diagram-bars')\r\n\r\n// result of inputs\r\nlet diskType = 'hdd'\r\nlet quantityType = 'multi'\r\nlet storage = '0'\r\nlet transfer = '0'\r\n\r\n// orgs total data\r\nlet backblazeStorage = 0\r\nlet backblazeTransfer = 0\r\nlet bunnyStorage = 0\r\nlet bunnyTransfer = 0\r\nlet scalewayStorage = 0\r\nlet scalewayTransfer = 0\r\nlet vultrStorage = 0\r\nlet vultrTransfer = 0\r\n\r\nconst colorSwither = () => {\r\n  backblazeBar.style.width = backblazeValue.innerHTML + '%'\r\n  backblazeBar.style.backgroundColor = barColors.red\r\n  bunnyBar.style.width = bunnyValue.innerHTML + '%'\r\n  bunnyBar.style.backgroundColor = barColors.orange\r\n  scalewayBar.style.width = scalewayValue.innerHTML + '%'\r\n  scalewayBar.style.backgroundColor = barColors.purple\r\n  vultrBar.style.width = vultrValue.innerHTML + '%'\r\n  vultrBar.style.backgroundColor = barColors.blue\r\n\r\n  const blackblazer = +backblazeBar.style.width.slice(0, -1)\r\n  const bunny = +bunnyBar.style.width.slice(0, -1)\r\n  const scaleway = +scalewayBar.style.width.slice(0, -1)\r\n  const vultr = +vultrBar.style.width.slice(0, -1)\r\n  const minimalPrice = Math.min(blackblazer, bunny, scaleway, vultr)\r\n\r\n  if (blackblazer !== minimalPrice) {\r\n    backblazeBar.style.backgroundColor = barColors.grey\r\n  }\r\n  if (bunny !== minimalPrice) {\r\n    bunnyBar.style.backgroundColor = barColors.grey\r\n  }\r\n  if (scaleway !== minimalPrice) {\r\n    scalewayBar.style.backgroundColor = barColors.grey\r\n  }\r\n  if (vultr !== minimalPrice) {\r\n    vultrBar.style.backgroundColor = barColors.grey\r\n  }\r\n}\r\n\r\nconst setBarsVisibility = (element, action) => {\r\n  if (action === 'show') {\r\n    element.forEach((el) => el.classList.add('visible'))\r\n  }\r\n  if (action === 'hide') {\r\n    element.forEach((el) => el.classList.remove('visible'))\r\n  }\r\n}\r\n\r\n// handler  (hdd or ssd)\r\nconst diskHandler = (type, orgName) => (event) => {\r\n  diskType = event.target.value\r\n  orgs.map((item) => {\r\n    if (item.name === orgName && type === 'hdd') {\r\n      bunnyStorage = storage * item.storageRate.hdd\r\n    }\r\n    if (item.name === orgName && type === 'ssd') {\r\n      bunnyStorage = storage * item.storageRate.ssd\r\n    }\r\n  })\r\n  bunnyStorage + bunnyTransfer > 10\r\n    ? (bunnyValue.textContent = 10)\r\n    : (bunnyValue.textContent = bunnyStorage + bunnyTransfer)\r\n\r\n  colorSwither()\r\n}\r\n\r\n// handler (multi or single)\r\nconst rateTypeHandler = (type, orgName) => (event) => {\r\n  quantityType = event.target.value\r\n  orgs\r\n    .filter((org) => org.name === orgName)\r\n    .map((org) => {\r\n      if (type === 'multi' && +storage < org.free) {\r\n        scalewayStorage = 0\r\n      }\r\n      if (type === 'multi' && +storage >= org.free) {\r\n        scalewayStorage = (+storage - org.free) * org.storageRate.multi\r\n      }\r\n      if (type === 'single' && +storage < org.free) {\r\n        scalewayStorage = 0\r\n      }\r\n      if (type === 'single' && +storage >= org.free) {\r\n        scalewayStorage = (+storage - org.free) * org.storageRate.single\r\n      }\r\n    })\r\n  scalewayValue.textContent = scalewayStorage + scalewayTransfer\r\n  colorSwither()\r\n}\r\n\r\nhdd.addEventListener('change', diskHandler('hdd', 'bunny'))\r\nssd.addEventListener('change', diskHandler('ssd', 'bunny'))\r\nmulti.addEventListener('change', rateTypeHandler('multi', 'scaleway'))\r\nsingle.addEventListener('change', rateTypeHandler('single', 'scaleway'))\r\n\r\nstorageInput.addEventListener('input', (e) => {\r\n  storage = e.target.value\r\n\r\n  setBarsVisibility(diagram, 'show')\r\n  rateValue.textContent = storage\r\n  // backblaze\r\n  backblazeStorage = storage * 0.005\r\n  backblazeStorage + backblazeTransfer < 7\r\n    ? (backblazeValue.textContent = 7)\r\n    : (backblazeValue.textContent = (\r\n        Number(backblazeStorage) + Number(backblazeTransfer)\r\n      ).toFixed(2))\r\n\r\n  // bunnyStorage = storage * 0.01\r\n  if (diskType === 'hdd') {\r\n    bunnyStorage = storage * 0.01\r\n  }\r\n  if (diskType === 'ssd') {\r\n    bunnyStorage = storage * 0.02\r\n  }\r\n\r\n  bunnyStorage + bunnyTransfer > 10\r\n    ? (bunnyValue.textContent = 10)\r\n    : (bunnyValue.textContent = (\r\n        Number(bunnyStorage) + Number(bunnyTransfer)\r\n      ).toFixed(2))\r\n\r\n  // scaleway\r\n  if (quantityType === 'multi') {\r\n    if (storage < 75) {\r\n      scalewayStorage = 0\r\n    } else {\r\n      scalewayStorage = (storage - 75) * 0.06\r\n    }\r\n  }\r\n  if (quantityType === 'single') {\r\n    if (storage < 75) {\r\n      scalewayStorage = 0\r\n    } else {\r\n      scalewayStorage = (storage - 75) * 0.03\r\n    }\r\n  }\r\n  scalewayValue.textContent = (\r\n    Number(scalewayStorage) + Number(scalewayTransfer)\r\n  ).toFixed(2)\r\n\r\n  // vultr\r\n  vultrStorage = storage * 0.01\r\n\r\n  vultrStorage + vultrTransfer < 5\r\n    ? (vultrValue.textContent = 5)\r\n    : (vultrValue.textContent = (\r\n        Number(vultrStorage) + Number(vultrTransfer)\r\n      ).toFixed(2))\r\n\r\n  colorSwither()\r\n\r\n  if (storage === '0' && transfer === '0') {\r\n    console.log('both zero')\r\n    setBarsVisibility(diagram, 'hide')\r\n  }\r\n})\r\n\r\ntransferInput.addEventListener('input', (e) => {\r\n  transfer = e.target.value\r\n  setBarsVisibility(diagram, 'show')\r\n  transferValue.textContent = transfer\r\n  // backblaze\r\n  backblazeTransfer = transfer * 0.01\r\n  backblazeStorage + backblazeTransfer < 7\r\n    ? (backblazeValue.textContent = 7)\r\n    : (backblazeValue.textContent = (\r\n        Number(backblazeStorage) + Number(backblazeTransfer)\r\n      ).toFixed(2))\r\n  // bunny\r\n  bunnyTransfer = transfer * 0.01\r\n  bunnyStorage + bunnyTransfer > 10\r\n    ? (bunnyValue.textContent = 10)\r\n    : (bunnyValue.textContent = (\r\n        Number(bunnyStorage) + Number(bunnyTransfer)\r\n      ).toFixed(2))\r\n  // scaleway\r\n  if (transfer < 75) {\r\n    scalewayTransfer = 0\r\n  } else {\r\n    scalewayTransfer = (transfer - 75) * 0.02\r\n  }\r\n  scalewayValue.textContent = (\r\n    Number(scalewayStorage) + Number(scalewayTransfer)\r\n  ).toFixed(2)\r\n\r\n  // vultr\r\n  vultrTransfer = transfer * 0.01\r\n\r\n  vultrStorage + vultrTransfer < 5\r\n    ? (vultrValue.textContent = 5)\r\n    : (vultrValue.textContent = (\r\n        Number(vultrStorage) + Number(vultrTransfer)\r\n      ).toFixed(2))\r\n\r\n  colorSwither()\r\n  if (transfer === '0' && storage === '0') {\r\n    setBarsVisibility(diagram, 'hide')\r\n  }\r\n})\r\n"]}